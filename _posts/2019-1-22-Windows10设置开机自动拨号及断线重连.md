---
layout:     post
title:      Windows10设置开机自动拨号及断线重连
subtitle:   以深澜PPPoe拨号认证为例
date:       2019-1-22
author:     蘑菇熊
header-img: img/post-bg-keybord.jpg
catalog: true
tags:
    - 自动拨号
---

# 建立一个Bat批处理文件ReconnectShenlan.bat

```

@echo off 
if "%1" == "h" goto begin 
mshta vbscript:createobject("wscript.shell").run("%~nx0 h",0)(window.close)&&exit 
:begin 

title=mycmd
tasklist /v /fo csv | findstr /i "mycmd" >> log.txt

:start
ping -n 2 114.114.114.114 | find "TTL=" >nul

if errorlevel 1 (
echo 掉线
rasdial 宽带连接名称 账号 密码
echo *** %DATE% %TIME% >> log.txt

) else (
echo 在线
TIMEOUT 60
)
goto:start
```

# 放入以下路径即可

>C:\WINDOWS\System32\GroupPolicy\Machine\Scripts\Startup